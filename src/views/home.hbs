<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metflix</title>
    <link rel="icon" href="imgs/aicono.png">
    <style>
        * {
    margin: 0;
    padding: 0;
    font-family: Arial, Helvetica, sans-serif;
}

body{
    background-color: #202020;
}

.nav-bar .nav a{
    text-decoration: none;
    color: black;
    padding: 10px;
    font-weight: bold;
    color: whitesmoke;
    &:hover{
        transition: 2s all ease;
        border-bottom: 1px solid white;
    }
}

.nav-bar{
    display: flex;
    justify-content: end;
    align-items: end;
    background-color: #700000;
    padding: 20px;
}
#main-container{
    display: flex;
    justify-content: center;
    align-items: center;
    
}


#main-container .movies{
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    margin-top: 100px;
    gap: 90px;
}

#movieName{
    color: white;
}

#main-container .movies .movie-card{
    background-color: #333333;
    padding: 30px;
    border-radius: 10px;
}

#main-container .movies .movie-card button{
    border: none;
    padding: 5px;
    width: 60px;
    
}

#main-container .movies .movie-card .deleteBtn:hover{
    background-color: red;
    color: white;
}

#main-container .movies .movie-card .editBtn:hover{
    background-color: green;
    color: white;
}


#main-container .movies img, #uploadImg{
    width: 400px;
}


#getModal{
    background-color: #252525;
    margin: 0 auto;
    width: 150px;
    padding: 150px;
}

#trailerBtn{
    text-decoration: none;
    background-color: white;
    padding: 4.2px;
    color: black;
}


    </style>
</head>

<body>
    <section class="nav-bar">
        <div class="nav">
            <a href="">MetFlix</a>
            <a href="#" id="add" onclick="openModal()">Add</a>
            <a href="/logout">LogOut</a>
        </div>
    </section>
    <dialog id="getModal">
        <input type="text" placeholder="URL" id="UrlInput">
        <input type="text" placeholder="Name" id="NameInput">
        <input type="text" placeholder="Reseña" id="ReseñaInput">
        <input type="text" placeholder="Año" id="AñoInput">
        <input type="text" placeholder="Director" id="DirectorInput">
        <input type="file" id="uploadImg">
        <button id="submitMovie">Submit</button>
        <button id="closeModal" onclick="closeM()">close</button>
    </dialog>

    <section id="main-container">
        
        <div class="movies">
            
            <div class="movie-card">
                <img src="imgs/white-pic.jpg" alt=""><br>
                <p id="movieName">Movie1</p>
                <button class="deleteBtn">Delete</button>
                <button class="editBtn">Edit</button>
                <a href="" id="trailerBtn">watch trailer</a>
            </div>
            <div class="movie-card">
                <img src="imgs/white-pic.jpg" alt=""><br>
                <p id="movieName">Movie2</p>
                <button class="deleteBtn">Delete</button>
                <button class="editBtn">Edit</button>
                <a href="" id="trailerBtn">watch trailer</a>
            </div>
            <div class="movie-card">
                <img src="imgs/white-pic.jpg" alt=""><br>
                <p id="movieName">Movie3</p>
                <button class="deleteBtn">Delete</button>
                <button class="editBtn">Edit</button>
                <a href="" id="trailerBtn">watch trailer</a>
            </div>
        </div>
        
        
    </section>
    
    <script>
        const modal = document.getElementById('getModal')
const closeModal = document.getElementById('closeModal')

const UrlInput = document.getElementById('UrlInput')
const NameInput = document.getElementById('NameInput')
const container = document.querySelector('.movies')
const uploadImg = document.getElementById('uploadImg')
const submit = document.getElementById('submitMovie')
const searchInput = document.getElementById('searchInput')
const yearInput = document.getElementById('AñoInput');
const ReseñaInput = document.getElementById('DirectorInput');
const DirectorInput = document.getElementById('ReseñaInput');


const openModal = () => {
    modal.showModal()
}

const closeM = () => {
    modal.close()
}

submit.addEventListener('click', () => {
    const url = UrlInput.value;
    const name = NameInput.value;
    const year = yearInput.value;
    const reseña = ReseñaInput.value
    const director = DirectorInput.value;

    if (!url.trim() || !name.trim()) {
        alert('Por favor, completa todos los campos.');
        return;
    }
    const movieContainer = document.createElement('div');
    movieContainer.classList.add('movie');
    const file = uploadImg.files[0]
    const img = URL.createObjectURL(file)

    movieContainer.innerHTML =
        `<div class="movie-card">
    <img src="${img}" alt=""><br>
    <p id="movieName">${name}</p>
    <p id="movieName">${year}</p>
    <p id="movieName">${reseña}</p>
    <p id="movieName">${director}</p>
    <button class="deleteBtn">Delete</button>
    <button class="editBtn">Edit</button>
    <a href="${url}" id="trailerBtn">watch trailer</a>
    </div>`
    container.appendChild(movieContainer);

    UrlInput.value = '';
    NameInput.value = '';
    DirectorInput.value = '';
    ReseñaInput.value = '';
    yearInput.value = '';
})



container.addEventListener('click', (e) => {
    if (e.target.classList.contains("deleteBtn")) {
        e.target.parentElement.remove();
    }
})

    </script>
</body>

</html>



{{!-- <title>MetFlix Portal</title>

<h1>Welcome back {{{name}}}</h1>

<style>
    *{
    margin: 0;
    padding: 0;
    font-family: 'poppins', sans-serif;
    box-sizing: border-box;
}
    body{
        background-image: url();
    }
    a{
    border-radius: 35px;
    font-weight: bold;
    font-size: medium;
    border: none;
    outline: none;
    border: solid 1px #fff;
    color: #fff;
    padding: 10px;
    width: 8%;
    margin: 5px;
    cursor: pointer;
    justify-content: center;
    }

    nav{
        float: right;
    }

    header{
        background-color: red;
        padding: 30px;
        margin: 50px;
    }

    .nombre{
        font-weight: bolder;
        color: #fff;
    }

    a:hover{

    }
</style>

<header>
{{#if name}}
<p id="nombre">{{name}}</p>
    <nav>
    <a href="/logout">Log Out</a>
{{else}}
        <a href="/login" id="login">Login</a>
        <a href="/register">Register</a>
{{/if}}
    </nav>
</header>

 --}}
